<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 5.0.0 (20220707.1540)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="4747pt" height="674pt"
 viewBox="0.00 0.00 4747.49 674.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 670)">
<title>UmlClassDiagram</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-670 4743.49,-670 4743.49,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="black" points="0,-0.5 0,-394.1 704.66,-394.1 704.66,-0.5 0,-0.5"/>
<text text-anchor="middle" x="352.33" y="-377.5" font-family="Times,serif" font-size="14.00">Collection</text>
<text text-anchor="middle" x="352.33" y="-360.7" font-family="Times,serif" font-size="14.00">contracts/modules/Collection.sol</text>
<polyline fill="none" stroke="black" points="0,-352.5 704.66,-352.5 "/>
<text text-anchor="start" x="8" y="-335.9" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="8" y="-319.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_nextCollectionId: uint256</text>
<text text-anchor="start" x="8" y="-302.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="8" y="-285.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;registry: IDatasetRegistry</text>
<text text-anchor="start" x="8" y="-268.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;protectedDatas: mapping(uint256=&gt;mapping(uint160=&gt;address))</text>
<polyline fill="none" stroke="black" points="0,-260.5 704.66,-260.5 "/>
<text text-anchor="start" x="8" y="-243.9" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="8" y="-227.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_safeMint(to: address)</text>
<text text-anchor="start" x="8" y="-210.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="8" y="-193.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;adminSwapCollection(_collectionIdFrom: uint256, _collectionIdTo: uint256, _protectedData: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="8" y="-176.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;adminSafeTransferFrom(_to: address, _protectedData: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="8" y="-159.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="8" y="-143.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AddProtectedDataToCollection(collectionId: uint256, protectedData: address)</text>
<text text-anchor="start" x="8" y="-126.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RemoveProtectedDataFromCollection(collectionId: uint256, protectedData: address)</text>
<text text-anchor="start" x="8" y="-109.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyCollectionOwner(_collectionId: uint256)</text>
<text text-anchor="start" x="8" y="-92.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyProtectedDataInCollection(_collectionId: uint256, _protectedData: address)</text>
<text text-anchor="start" x="8" y="-75.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(_registry: IDatasetRegistry, _owner: address)</text>
<text text-anchor="start" x="8" y="-59.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;createCollection(): uint256</text>
<text text-anchor="start" x="8" y="-42.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeCollection(_collectionId: uint256) &lt;&lt;onlyCollectionOwner&gt;&gt;</text>
<text text-anchor="start" x="8" y="-25.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addProtectedDataToCollection(_collectionId: uint256, _protectedData: address) &lt;&lt;onlyCollectionOwner&gt;&gt;</text>
<text text-anchor="start" x="8" y="-8.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeProtectedDataFromCollection(_collectionId: uint256, _protectedData: address) &lt;&lt;onlyCollectionOwner&gt;&gt;</text>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="black" points="164.89,-506.7 164.89,-589.9 539.77,-589.9 539.77,-506.7 164.89,-506.7"/>
<text text-anchor="middle" x="352.33" y="-573.3" font-family="Times,serif" font-size="14.00">ERC721Receiver</text>
<text text-anchor="middle" x="352.33" y="-556.5" font-family="Times,serif" font-size="14.00">contracts/modules/ERC721Receiver.sol</text>
<polyline fill="none" stroke="black" points="164.89,-548.3 539.77,-548.3 "/>
<text text-anchor="start" x="172.89" y="-531.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="172.89" y="-514.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;onERC721Received(address, address, uint256, bytes): bytes4</text>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="black" d="M352.33,-394.22C352.33,-423.49 352.33,-451.95 352.33,-476.22"/>
<polygon fill="none" stroke="black" points="341.83,-476.42 352.33,-506.42 362.83,-476.42 341.83,-476.42"/>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="black" points="722.93,-138.9 722.93,-255.7 1527.73,-255.7 1527.73,-138.9 722.93,-138.9"/>
<text text-anchor="middle" x="1125.33" y="-239.1" font-family="Times,serif" font-size="14.00">ConsumeProtectedData</text>
<text text-anchor="middle" x="1125.33" y="-222.3" font-family="Times,serif" font-size="14.00">contracts/modules/ConsumeProtectedData.sol</text>
<polyline fill="none" stroke="black" points="722.93,-214.1 1527.73,-214.1 "/>
<text text-anchor="start" x="730.93" y="-197.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="730.93" y="-180.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;consumeProtectedData(_protectedData: address, _workerpoolOrder: IexecLibOrders_v5.WorkerpoolOrder, _contentPath: string): bytes32</text>
<text text-anchor="start" x="730.93" y="-163.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="730.93" y="-147.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; DealId(bytes32)</text>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="black" points="737.32,-431.1 737.32,-665.5 1513.34,-665.5 1513.34,-431.1 737.32,-431.1"/>
<text text-anchor="middle" x="1125.33" y="-648.9" font-family="Times,serif" font-size="14.00">ManageOrders</text>
<text text-anchor="middle" x="1125.33" y="-632.1" font-family="Times,serif" font-size="14.00">contracts/modules/ManageOrders.sol</text>
<polyline fill="none" stroke="black" points="737.32,-623.9 1513.34,-623.9 "/>
<text text-anchor="start" x="745.32" y="-607.3" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="745.32" y="-590.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getSalt(_protectedData: address): bytes32</text>
<text text-anchor="start" x="745.32" y="-573.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;generateParams(_contentPath: string): string</text>
<text text-anchor="start" x="745.32" y="-556.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="745.32" y="-540.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;createAppOrder(_protectedData: address, _workerpoolAddresss: address): IexecLibOrders_v5.AppOrder</text>
<text text-anchor="start" x="745.32" y="-523.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;createDatasetOrder(_protectedData: address, _workerpoolAddresss: address): IexecLibOrders_v5.DatasetOrder</text>
<text text-anchor="start" x="745.32" y="-506.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;createRequestOrder(_protectedData: address, _workerpoolAddress: address, _contentPath: string): IexecLibOrders_v5.RequestOrder</text>
<text text-anchor="start" x="745.32" y="-489.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="745.32" y="-472.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="745.32" y="-456.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setAppAddress(_appAddress: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="745.32" y="-439.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateParams(_resultStorageProvider: string, _resultStorageProxy: string, _contentPath: string) &lt;&lt;onlyOwner&gt;&gt;</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="black" d="M1125.33,-255.93C1125.33,-295.4 1125.33,-349.62 1125.33,-400.6"/>
<polygon fill="none" stroke="black" points="1114.83,-400.93 1125.33,-430.93 1135.83,-400.93 1114.83,-400.93"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="black" points="1545.73,-113.7 1545.73,-280.9 2410.93,-280.9 2410.93,-113.7 1545.73,-113.7"/>
<text text-anchor="middle" x="1978.33" y="-264.3" font-family="Times,serif" font-size="14.00">Renting</text>
<text text-anchor="middle" x="1978.33" y="-247.5" font-family="Times,serif" font-size="14.00">contracts/modules/Renting.sol</text>
<polyline fill="none" stroke="black" points="1545.73,-239.3 2410.93,-239.3 "/>
<text text-anchor="start" x="1553.73" y="-222.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1553.73" y="-205.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; rentProtectedData(_collectionId: uint256, _protectedData: address)</text>
<text text-anchor="start" x="1553.73" y="-189.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ProtectedDataAddedToRenting(_collectionId: uint256, _protectedData: address, _price: uint112, _duration: uint48)</text>
<text text-anchor="start" x="1553.73" y="-172.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ProtectedDataRemovedFromRenting(_collectionId: uint256, _protectedData: address)</text>
<text text-anchor="start" x="1553.73" y="-155.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; NewRental(_collectionId: uint256, _protectedData: address, endDate: uint48)</text>
<text text-anchor="start" x="1553.73" y="-138.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setProtectedDataToRenting(_collectionId: uint256, _protectedData: address, _price: uint112, _duration: uint48) &lt;&lt;onlyProtectedDataInCollection&gt;&gt;</text>
<text text-anchor="start" x="1553.73" y="-121.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeProtectedDataFromRenting(_collectionId: uint256, _protectedData: address) &lt;&lt;onlyProtectedDataInCollection&gt;&gt;</text>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<polygon fill="#f2f2f2" stroke="black" points="2429.38,-105.3 2429.38,-289.3 3811.28,-289.3 3811.28,-105.3 2429.38,-105.3"/>
<text text-anchor="middle" x="3120.33" y="-272.7" font-family="Times,serif" font-size="14.00">Sale</text>
<text text-anchor="middle" x="3120.33" y="-255.9" font-family="Times,serif" font-size="14.00">contracts/modules/Sale.sol</text>
<polyline fill="none" stroke="black" points="2429.38,-247.7 3811.28,-247.7 "/>
<text text-anchor="start" x="2437.38" y="-231.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="2437.38" y="-214.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; buyProtectedData(_collectionIdFrom: uint256, _protectedData: address, _collectionIdTo: uint256) &lt;&lt;onlyCollectionOwner&gt;&gt;</text>
<text text-anchor="start" x="2437.38" y="-197.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; buyProtectedData(_collectionIdFrom: uint256, _protectedData: address, _to: address)</text>
<text text-anchor="start" x="2437.38" y="-180.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ProtectedDataAddedForSale(_collectionId: uint256, _protectedData: address, _price: uint112)</text>
<text text-anchor="start" x="2437.38" y="-163.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ProtectedDataRemovedFromSale(_collectionId: uint256, _protectedData: address)</text>
<text text-anchor="start" x="2437.38" y="-147.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ProtectedDataSold(_collectionIdFrom: uint256, _protectedData: address, _to: address)</text>
<text text-anchor="start" x="2437.38" y="-130.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setProtectedDataForSale(_collectionId: uint256, _protectedData: address, _price: uint112) &lt;&lt;onlyProtectedDataInCollection, onlyProtectedDataNotAvailableInSubscription, onlyProtectedDataNotForRenting, onlyProtectedDataNotRented&gt;&gt;</text>
<text text-anchor="start" x="2437.38" y="-113.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeProtectedDataForSale(_collectionId: uint256, _protectedData: address) &lt;&lt;onlyProtectedDataInCollection&gt;&gt;</text>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<polygon fill="#f2f2f2" stroke="black" points="3829.17,-96.9 3829.17,-297.7 4739.49,-297.7 4739.49,-96.9 3829.17,-96.9"/>
<text text-anchor="middle" x="4284.33" y="-281.1" font-family="Times,serif" font-size="14.00">Subscription</text>
<text text-anchor="middle" x="4284.33" y="-264.3" font-family="Times,serif" font-size="14.00">contracts/modules/Subscription.sol</text>
<polyline fill="none" stroke="black" points="3829.17,-256.1 4739.49,-256.1 "/>
<text text-anchor="start" x="3837.17" y="-239.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="3837.17" y="-222.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; subscribeTo(_collectionId: uint256): uint256</text>
<text text-anchor="start" x="3837.17" y="-205.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; NewSubscriptionParams(subscriptionParams: SubscriptionParams)</text>
<text text-anchor="start" x="3837.17" y="-189.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; NewSubscription(subscriber: address, endDate: uint48)</text>
<text text-anchor="start" x="3837.17" y="-172.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AddProtectedDataForSubscription(_collectionId: uint256, _protectedData: address)</text>
<text text-anchor="start" x="3837.17" y="-155.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RemoveProtectedDataFromSubscription(_collectionId: uint256, _protectedData: address)</text>
<text text-anchor="start" x="3837.17" y="-138.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setProtectedDataToSubscription(_collectionId: uint256, _protectedData: address) &lt;&lt;onlyProtectedDataInCollection&gt;&gt;</text>
<text text-anchor="start" x="3837.17" y="-121.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeProtectedDataFromSubscription(_collectionId: uint256, _protectedData: address) &lt;&lt;onlyProtectedDataInCollection, onlyCollectionNotSubscribed&gt;&gt;</text>
<text text-anchor="start" x="3837.17" y="-105.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setSubscriptionParams(_collectionId: uint256, _subscriptionParams: SubscriptionParams) &lt;&lt;onlyCollectionOwner&gt;&gt;</text>
</g>
</g>
</svg>
