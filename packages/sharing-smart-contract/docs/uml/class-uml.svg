<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 5.0.0 (20220707.1540)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="1745pt" height="836pt"
 viewBox="0.00 0.00 1744.58 835.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 831.8)">
<title>UmlClassDiagram</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-831.8 1740.58,-831.8 1740.58,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="black" points="230.4,-330.3 230.4,-673.5 901.97,-673.5 901.97,-330.3 230.4,-330.3"/>
<text text-anchor="middle" x="566.18" y="-656.9" font-family="Times,serif" font-size="14.00">Collection</text>
<text text-anchor="middle" x="566.18" y="-640.1" font-family="Times,serif" font-size="14.00">contracts/modules/Collection.sol</text>
<polyline fill="none" stroke="black" points="230.4,-631.9 901.97,-631.9 "/>
<text text-anchor="start" x="238.4" y="-615.3" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="238.4" y="-598.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_nextCollectionId: uint256</text>
<text text-anchor="start" x="238.4" y="-581.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="238.4" y="-564.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;registry: IDatasetRegistry</text>
<text text-anchor="start" x="238.4" y="-548.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;protectedDatas: mapping(uint256=&gt;mapping(uint160=&gt;address))</text>
<polyline fill="none" stroke="black" points="230.4,-539.9 901.97,-539.9 "/>
<text text-anchor="start" x="238.4" y="-523.3" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="238.4" y="-506.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_safeMint(to: address)</text>
<text text-anchor="start" x="238.4" y="-489.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="238.4" y="-472.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AddProtectedDataToCollection(collectionId: uint256, protectedData: address)</text>
<text text-anchor="start" x="238.4" y="-456.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RemoveProtectedDataFromCollection(collectionId: uint256, protectedData: address)</text>
<text text-anchor="start" x="238.4" y="-439.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyCollectionOwner(_collectionId: uint256)</text>
<text text-anchor="start" x="238.4" y="-422.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyProtectedDataInCollection(_collectionId: uint256, _protectedData: address)</text>
<text text-anchor="start" x="238.4" y="-405.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(_registry: IDatasetRegistry)</text>
<text text-anchor="start" x="238.4" y="-388.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;createCollection(): uint256</text>
<text text-anchor="start" x="238.4" y="-372.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeCollection(_collectionId: uint256) &lt;&lt;onlyCollectionOwner&gt;&gt;</text>
<text text-anchor="start" x="238.4" y="-355.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addProtectedDataToCollection(_collectionId: uint256, _protectedData: address) &lt;&lt;onlyCollectionOwner&gt;&gt;</text>
<text text-anchor="start" x="238.4" y="-338.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeProtectedDataFromCollection(_collectionId: uint256, _protectedData: address) &lt;&lt;onlyCollectionOwner&gt;&gt;</text>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="black" points="378.74,-744.1 378.74,-827.3 753.62,-827.3 753.62,-744.1 378.74,-744.1"/>
<text text-anchor="middle" x="566.18" y="-810.7" font-family="Times,serif" font-size="14.00">ERC721Receiver</text>
<text text-anchor="middle" x="566.18" y="-793.9" font-family="Times,serif" font-size="14.00">contracts/modules/ERC721Receiver.sol</text>
<polyline fill="none" stroke="black" points="378.74,-785.7 753.62,-785.7 "/>
<text text-anchor="start" x="386.74" y="-769.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="386.74" y="-752.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;onERC721Received(address, address, uint256, bytes): bytes4</text>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="black" d="M566.18,-673.73C566.18,-687.71 566.18,-701.28 566.18,-713.85"/>
<polygon fill="none" stroke="black" points="555.68,-713.96 566.18,-743.96 576.68,-713.96 555.68,-713.96"/>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="black" points="931.79,-63.3 931.79,-196.9 1736.58,-196.9 1736.58,-63.3 931.79,-63.3"/>
<text text-anchor="middle" x="1334.18" y="-180.3" font-family="Times,serif" font-size="14.00">ConsumeProtectedData</text>
<text text-anchor="middle" x="1334.18" y="-163.5" font-family="Times,serif" font-size="14.00">contracts/modules/ConsumeProtectedData.sol</text>
<polyline fill="none" stroke="black" points="931.79,-155.3 1736.58,-155.3 "/>
<text text-anchor="start" x="939.79" y="-138.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="939.79" y="-121.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;consumeProtectedData(_protectedData: address, _workerpoolOrder: IexecLibOrders_v5.WorkerpoolOrder, _contentPath: string): bytes32</text>
<text text-anchor="start" x="939.79" y="-105.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="939.79" y="-88.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; DealId(bytes32)</text>
<text text-anchor="start" x="939.79" y="-71.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(_proxy: IExecPocoDelegate)</text>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="black" points="946.17,-296.7 946.17,-707.1 1722.2,-707.1 1722.2,-296.7 946.17,-296.7"/>
<text text-anchor="middle" x="1334.18" y="-690.5" font-family="Times,serif" font-size="14.00">ManageOrders</text>
<text text-anchor="middle" x="1334.18" y="-673.7" font-family="Times,serif" font-size="14.00">contracts/modules/ManageOrders.sol</text>
<polyline fill="none" stroke="black" points="946.17,-665.5 1722.2,-665.5 "/>
<text text-anchor="start" x="954.17" y="-648.9" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="954.17" y="-632.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;nullSign: bytes</text>
<text text-anchor="start" x="954.17" y="-615.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;iexec_result_storage_provider: string</text>
<text text-anchor="start" x="954.17" y="-598.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;iexec_result_storage_proxy: string</text>
<text text-anchor="start" x="954.17" y="-581.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;iexec_args: string</text>
<text text-anchor="start" x="954.17" y="-564.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="954.17" y="-548.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;pocoDelegate: IExecPocoDelegate</text>
<text text-anchor="start" x="954.17" y="-531.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;appAddress: address</text>
<text text-anchor="start" x="954.17" y="-514.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;TAG: bytes32</text>
<text text-anchor="start" x="954.17" y="-497.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;TRUST: uint256</text>
<polyline fill="none" stroke="black" points="946.17,-489.5 1722.2,-489.5 "/>
<text text-anchor="start" x="954.17" y="-472.9" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="954.17" y="-456.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getSalt(_protectedData: address): bytes32</text>
<text text-anchor="start" x="954.17" y="-439.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;generateParams(_contentPath: string): string</text>
<text text-anchor="start" x="954.17" y="-422.5" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="954.17" y="-405.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;createAppOrder(_protectedData: address, _workerpoolAddresss: address): IexecLibOrders_v5.AppOrder</text>
<text text-anchor="start" x="954.17" y="-388.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;createDatasetOrder(_protectedData: address, _workerpoolAddresss: address): IexecLibOrders_v5.DatasetOrder</text>
<text text-anchor="start" x="954.17" y="-372.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;createRequestOrder(_protectedData: address, _workerpoolAddress: address, _contentPath: string): IexecLibOrders_v5.RequestOrder</text>
<text text-anchor="start" x="954.17" y="-355.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="954.17" y="-338.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(_proxy: IExecPocoDelegate)</text>
<text text-anchor="start" x="954.17" y="-321.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setAppAddress(_appAddress: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="954.17" y="-304.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateParams(_resultStorageProvider: string, _resultStorageProxy: string, _contentPath: string) &lt;&lt;onlyOwner&gt;&gt;</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="black" d="M1334.18,-197.21C1334.18,-217.56 1334.18,-241.23 1334.18,-266.22"/>
<polygon fill="none" stroke="black" points="1323.68,-266.61 1334.18,-296.61 1344.68,-266.61 1323.68,-266.61"/>
</g>
<!-- 5 -->
<g id="node5" class="node">
<title>5</title>
<polygon fill="#f2f2f2" stroke="black" points="0,-451.9 0,-551.9 212.37,-551.9 212.37,-451.9 0,-451.9"/>
<text text-anchor="middle" x="106.18" y="-535.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="106.18" y="-518.5" font-family="Times,serif" font-size="14.00">SubscriptionParams</text>
<text text-anchor="middle" x="106.18" y="-501.7" font-family="Times,serif" font-size="14.00">contracts/modules/Subscription.sol</text>
<polyline fill="none" stroke="black" points="0,-493.5 212.37,-493.5 "/>
<text text-anchor="start" x="8" y="-476.9" font-family="Times,serif" font-size="14.00">price: uint112</text>
<text text-anchor="start" x="8" y="-460.1" font-family="Times,serif" font-size="14.00">duration: uint32</text>
</g>
<!-- 4 -->
<g id="node6" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="black" points="218.35,-0.5 218.35,-259.7 914.02,-259.7 914.02,-0.5 218.35,-0.5"/>
<text text-anchor="middle" x="566.18" y="-243.1" font-family="Times,serif" font-size="14.00">Subscription</text>
<text text-anchor="middle" x="566.18" y="-226.3" font-family="Times,serif" font-size="14.00">contracts/modules/Subscription.sol</text>
<polyline fill="none" stroke="black" points="218.35,-218.1 914.02,-218.1 "/>
<text text-anchor="start" x="226.35" y="-201.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="226.35" y="-184.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;protectedDataInSubscription: mapping(uint256=&gt;mapping(address=&gt;bool))</text>
<text text-anchor="start" x="226.35" y="-167.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;subscribers: mapping(uint256=&gt;mapping(address=&gt;uint48))</text>
<text text-anchor="start" x="226.35" y="-151.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;subscriptionParams: mapping(uint256=&gt;SubscriptionParams)</text>
<polyline fill="none" stroke="black" points="218.35,-142.9 914.02,-142.9 "/>
<text text-anchor="start" x="226.35" y="-126.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="226.35" y="-109.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; subscribeTo(_collectionId: uint256): uint256</text>
<text text-anchor="start" x="226.35" y="-92.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; NewSubscriptionParams(subscriptionParams: SubscriptionParams)</text>
<text text-anchor="start" x="226.35" y="-75.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; NewSubscription(subscriber: address, endDate: uint48)</text>
<text text-anchor="start" x="226.35" y="-59.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AddProtectedDataForSubscription(_collectionId: uint256, _protectedData: address)</text>
<text text-anchor="start" x="226.35" y="-42.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(_registry: IDatasetRegistry)</text>
<text text-anchor="start" x="226.35" y="-25.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setProtectedDataToSubscription(_collectionId: uint256, _protectedData: address) &lt;&lt;onlyProtectedDataInCollection&gt;&gt;</text>
<text text-anchor="start" x="226.35" y="-8.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setSubscriptionParams(_collectionId: uint256, _subscriptionParams: SubscriptionParams) &lt;&lt;onlyCollectionOwner&gt;&gt;</text>
</g>
<!-- 5&#45;&gt;4 -->
<g id="edge3" class="edge">
<title>5&#45;&gt;4</title>
<path fill="none" stroke="black" d="M130.84,-451.5C151.22,-406.17 183.77,-339.67 230.18,-296.2 241.08,-285.99 252.73,-276.3 264.9,-267.12"/>
<polygon fill="black" stroke="black" points="265.1,-266.98 267.57,-260.2 274.77,-259.87 272.31,-266.65 265.1,-266.98"/>
</g>
<!-- 4&#45;&gt;0 -->
<g id="edge4" class="edge">
<title>4&#45;&gt;0</title>
<path fill="none" stroke="black" d="M566.18,-259.92C566.18,-272.97 566.18,-286.42 566.18,-300"/>
<polygon fill="none" stroke="black" points="555.68,-300.26 566.18,-330.26 576.68,-300.26 555.68,-300.26"/>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="black" d="M256.8,-259.87C241.01,-271.16 226,-283.26 212.18,-296.2 168.94,-336.7 137.74,-397.19 120.48,-441.92"/>
<polygon fill="black" stroke="black" points="117.12,-440.9 116.91,-451.5 123.68,-443.35 117.12,-440.9"/>
</g>
</g>
</svg>
